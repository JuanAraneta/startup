<html>
<head>
	<title>Lesson 2</title>
<script type="text/javascript">

class EventEmitter{

    constructor(){
        this.events = {}
    }

    on(key, cb){
     	if (this.events[key]){
            this.events[key].push(cb)
        }else{
            this.events[key] = [cb]
        }
    }
    emit(key){
    	if(this.events[key]){
            this.events[key].forEach(cb => {
                cb(key)
            })
        }
    }   
    off(key){
    	if (this.events[key]){
            delete this.events[key]    
        }
    }
}

class Movie extends EventEmitter{

    constructor(title, year, duration){
        super();
        this._title = title;
        this.year = year;
        this.duration = duration;
    }

    play(){
        this.emit("play");
    }
    pause(){
        this.emit("pause");  
    }
    resume(){
        this.emit("pause");
    }
}

class Logger{
    log(text){
        console.log("The "+text+" event has been emitted")
    }
}



let terminator = new Movie("terminator",90,1995);
let logger = new Logger();
terminator.on('play', logger.log);
terminator.play();
terminator.off('play');
terminator.play();
</script>
</head>
<body>

</body>
</html>